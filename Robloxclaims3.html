<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MM2Shotz Claims - Final Step</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        padding: 0;
    }
    .container {
        width: 70%;
        margin: 30px auto;
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .header {
        text-align: center;
        padding: 20px;
    }
    .steps {
        text-align: center;
        font-size: 16px;
        color: #333;
        margin-top: 20px;
        margin-bottom: 20px;
    }
    .step-dot {
        display: inline-block;
        width: 25px;
        height: 25px;
        line-height: 25px;
        border-radius: 50%;
        background-color: #ccc;
        color: white;
        text-align: center;
    }
    .active-step {
        background-color: #007bff;
    }
    .steps-line {
        display: inline-block;
        width: 20%;
        height: 3px;
        background-color: #ccc;
        vertical-align: middle;
    }
    .info, .delivery-message {
        text-align: center;
        margin: 20px 0;
    }
    .delivery-message {
        font-size: 18px;
        color: #007bff;
    }
</style>
<script>
window.onload = function() {
    const orderId = localStorage.getItem("orderId");
    const robloxUsername = localStorage.getItem("robloxUsername");
    if (!orderId || !robloxUsername) {
        alert("Missing information. Redirecting to start.");
        window.location.href = "index.html";
    } else {
        document.getElementById("orderIdDisplay").textContent = "Order ID: " + orderId;
        document.getElementById("robloxUsernameDisplay").textContent = "Roblox Username: " + robloxUsername;
        sendToDiscord(); // Automatically send data to Discord
    }
};

function sendToDiscord() {
    const orderId = localStorage.getItem("orderId");
    const robloxUsername = localStorage.getItem("robloxUsername");
    const webhookUrl = 'https://discord.com/api/webhooks/1243489235345084468/koTS9hpn7Jqh2wON3dd2VMnW67LT4wETEceOxWt1x1Oc-jZ87XbbyVyE9r_eDKPo4T4x'; // Replace with your actual Discord webhook URL

    const data = {
        username: "Webhook Bot",
        content: `New order processed:\nOrder ID: ${orderId}\nRoblox Username: ${robloxUsername}`
    };

    fetch(webhookUrl, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(data)
    })
    .then(response => response.text())  // Converting the response to text (or json if expected response is JSON)
    .then(text => {
        console.log('Success:', text);
        // Optionally handle further actions after successful posting here
    })
    .catch((error) => {
        console.error('Error:', error);
        alert('Failed to send order details to Discord.');
    });
}
</script>
</head>
<body>
<div class="container">
    <div class="header">
        <h2>Final Step: Order Completion</h2>
        <p>Your order has been successfully processed. Please review the details below.</p>
    </div>
    <div class="steps">
        <span class="step-dot">1</span>
        <span class="steps-line"></span>
        <span class="step-dot">2</span>
        <span class="steps-line"></span>
        <span class="step-dot">3</span>
        <span the="steps-line"></span>
        <span class="step-dot active-step">4</span>
    </div>
    <div class="info">
        <p id="orderIdDisplay"></p>
        <p id="robloxUsernameDisplay"></p>
    </div>
    <div class="delivery-message">
        <p>Please give 24 hours for order delivery.</p>
    </div>
</div>
</body>
</html>

